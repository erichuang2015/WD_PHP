<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <!-- path -->
    <base href="({$web.main_path})/" target="">
    <!-- RWD -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="css/serback/back.css">
    <link rel="stylesheet" href="css/serback/MTsung.css">
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto">

    <script src="//apis.google.com/js/api:client.js?hl=({$lang})"></script>
    <script src="js/serback/jquery.all.min.js"></script>
    <script src="js/config.js" id="config" data-lang="({$lang})" data-path="({$web.main_path})" data-fb_app_id="({$web.fbAuthAppID})" data-google_client_id="({$web.googleAuthAppID})"></script>
    <script src="js/serback/bootstrap.min.js"></script>
    <script src="js/serback/bootstrap.bundle.min.js"></script>
    <script src="js/serback/back_js.js"></script>
    <script src="js/socialLogin.js"></script>
    <script src="js/validation.js"></script>
    <script src="include/ckfinder/ckfinder.js"></script>
    <script src='//www.google.com/recaptcha/api.js?hl=({$lang})' async defer></script>
    <script src="include/ace-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
    <script src="include/ace-noconflict/ext-language_tools.js"></script>
    <script src="js/serback/tinymce/tinymce.min.js"></script>

    <title>({if isset($label_back[$breadcru[0].name])})({$label_back[$breadcru[0].name]})-({/if})({$web.title}) ({$label_back['LOGIN_TITEL']})</title>

    <link rel="icon" href="({$web.icon})" sizes="16x16" type="image/png">
    <link rel="apple-touch-icon" href="({$web.icon})">
    <link rel="apple-touch-icon-precomposed" href="({$web.icon})">
    
</head>

<body>
    <div class="div-full"></div>
    <nav class="navbar fixed-top navbar-dark bg-dark">
        <div>
            <a href="({$web.serback_url})/index"><img src="({$web.icon})" height="35"></a>
            <a class="navbar-brand nav-title" href="({$web.serback_url})/index">({$web.title}) ({$label_back['LOGIN_TITEL']})</a>
        </div>
        <div class="btn-group">
            <a href="({$web.serback_url})/profile"><img src="({$member.picture})" class="rounded-circle " onerror="this.src='images/ProfilePicture.jpg'" height="40"></a>&nbsp;
            <button type="button" class="btn btn-dark dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                ({$member.name})
            </button>
            <div class="dropdown-menu dropdown-menu-right">
                <a class="dropdown-item" target="_blank" href="({$web.main_path})({if count($console->getLanguageArray("array"))>1})({$web.setting_lang})({/if})" >({$label_back.MENU_VIEW})</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="({$web.serback_url})/profile">({$label_back['MENU_PROFILE']})</a>
                <!-- <a class="dropdown-item" href="({$web.serback_url})/message">({$label_back['MENU_MESSAGE']})</a> -->
                <!-- <a class="dropdown-item" href="({$web.serback_url})/setting">({$label_back.MENU_SETTING})</a> -->
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="({$web.serback_url})/login">({$label_back['MENU_LOGOUT']})</a>
            </div>
        </div>
    </nav>
    <div class="wrapper">
        <nav id="sidebar">
            ({if count($console->getLanguageArray("array"))>1})
                <ul class="list-unstyled components">
                    <!-- <div class="form-group">
                        <select class="form-control" id="exampleFormControlSelect1">
                            <option>主題</option>
                            <option>一般</option>
                            <option>一般1</option>
                        </select>
                    </div> -->
                    <p>({$label_back['VIEW_LANG']})</p>
                    ({$console->getLanguageArray('html','/serback','form-control')})
                </ul>
                <ul class="list-unstyled components">

                    <p>({$label_back['SETTING_LANG']})</p>
                    ({$console->getLanguageArray('serback','','form-control')})
                </ul>
            ({/if})

            <ul class="list-unstyled components">
                <div class="input-group mb-3">
                    <input type="text" class="form-control" placeholder="({$label_back["SEARCH_KEYWORD"]})" onkeyup="searchMenu(this.value);">
                </div>
            </ul>
            ({section name=i loop=$menu[0]})
                <ul class="list-unstyled components">
                    <p>({$label_back[$menu[0][i].name]})</p>

                    ({section name=j loop=$menu[1]})
                        ({if $menu[0][i].id == $menu[1][j].parent})
                            <li class="active">
                                <a href="#menu_({$menu[1][j].id})" data-toggle="collapse" aria-expanded="false">({$label_back[$menu[1][j].name]})</a>
                                <ul class="collapse list-unstyled" id="menu_({$menu[1][j].id})">

                                    ({section name=k loop=$menu[2]})
                                        ({if $menu[1][j].id == $menu[2][k].parent})
                                            <li><a href="({$web.serback_url})/({$menu[2][k].url})">({$label_back[$menu[2][k].name]})</a></li>
                                        ({/if})
                                    ({/section})
                                </ul>
                            </li>
                        ({/if})
                    ({/section})
                </ul>
            ({/section})
        </nav>
        <button type="button" id="sidebarCollapse" class="glyphicon-menu-hamburger"></button>
        <div id="content" class="container-fluid">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="({$web.serback_url})">({$label_back['INDEX']})</a></li>
                    ({section name=i loop=$breadcru})
                        <li class="breadcrumb-item active" aria-current="page"><a href="({$web.serback_url})/({$breadcru[i].url})">({$label_back[$breadcru[i].name]})</a></li>
                    ({/section})
                    <!-- <li class="breadcrumb-item active" aria-current="page">({$label_back['MEMBER_CENTRE']})</li> -->
                </ol>
            </nav>
            ({if $switch.buttonBox!=0})
                <div class="text-right mb-3">
                    <div class="btn-group">
                        ({if $switch.redoButton!=0})
                            <a class="btn btn-outline-secondary" href="javascript:;" onclick="({if $data.redoOnClick})({$data.redoOnClick})({/if})"><span class="glyphicon glyphicon-repeat"></span> ({$label_back['REDO']})</a>
                        ({/if})
                        ({if $switch.editButton!=0})
                            <a class="btn btn-outline-secondary" href="javascript:;"><span class="glyphicon glyphicon-pencil"></span> ({$label_back['EDITOR']})</a>
                        ({/if})
                        ({if $switch.saveButton!=0})
                            <a class="btn btn-outline-secondary" href="javascript:;" onclick="formSubmit(({$switch.searchBox}));"><span class="glyphicon glyphicon-ok"></span> ({$label_back['SAVE']})</a>
                        ({/if})
                        ({if $switch.addButton!=0})
                            <a class="btn btn-outline-secondary" href="javascript:;" onclick="({if $data.addOnClick})({$data.addOnClick})({/if})"><span class="glyphicon glyphicon-plus"></span> ({$label_back['ADD']})</a>
                        ({/if})
                        ({if $switch.deleteButton!=0})
                            <a class="btn btn-outline-secondary" href="javascript:;" onclick="formSubmitDelete(({$switch.searchBox}));"><span class="glyphicon glyphicon-remove"></span> ({$label_back['DELETE']})</a>
                        ({/if})
                        ({if $switch.backButton!=0})
                            <a class="btn btn-outline-secondary" href="({$web.main_url})({if $data.listUrl})({$data.listUrl})({if $smarty.server.QUERY_STRING})?({$smarty.server.QUERY_STRING})({/if})({/if})"><span class="glyphicon glyphicon-th-list"></span> ({$label_back['BACK']})</a>
                        ({/if})
                    </div>
                </div> 
            ({/if})
            ({if $switch.searchBox!=0})
                <form accept="" method="GET">

                    ({foreach from=$smarty.get key=k item=v})
                        ({if $k!="searchKeyWord" && $k!="startDate" && $k!="endDate" && $k!="status" && $k!="per" && $k!="class"})
                            <!-- <input type="hidden" value="({$v})" name="({$k})"> -->
                        ({/if})
                    ({/foreach})
                    <div class="input-group text-center mb-3">
                        <div class="input-group-append">
                            <input type="text" class="form-control" size="50" name="searchKeyWord" value="({if isset($smarty.get.searchKeyWord)})({$smarty.get.searchKeyWord})({/if})" placeholder="({$label_back["SEARCH_KEYWORD"]})">
                        </div>
                        <div class="input-group-append">
                            <span class="input-group-text">({$label_back["FROM"]})</span>
                        </div>
                        <div class="input-group-append">
                            <input type="date" value="({if isset($smarty.get.startDate)})({$smarty.get.startDate})({/if})" class="form-control" name="startDate">
                        </div>
                        <div class="input-group-append">
                            <span class="input-group-text">({$label_back["TO"]})</span>
                        </div>
                        <div class="input-group-append">
                            <input type="date" value="({if isset($smarty.get.endDate)})({$smarty.get.endDate})({/if})" class="form-control" name="endDate">
                        </div>
                        <div class="input-group-append">
                            <div class="input-group-append">
                                <span class="input-group-text">({$label_back["STATUS"]})</span>
                            </div>
                            <select name="status"　>
                                <option value="" selected>({$label_back["PLEASE_CHOOSE"]})</option>
                                <option value="1" ({if isset($smarty.get.status) && $smarty.get.status=='1'})selected({/if})>({$label_back["STATUS_1"]})</option>
                                <option value="0" ({if isset($smarty.get.status) && $smarty.get.status=='0'})selected({/if})>({$label_back["STATUS_0"]})</option>
                            </select>
                        </div>
                        <div class="input-group-append">
                            <div class="input-group-append">
                                <span class="input-group-text">({$label_back["PAGE_DATA_COUNT"]})</span>
                            </div>
                            <select name="per">
                                <option value="" selected>({$label_back["PLEASE_CHOOSE"]})</option>
                                <option value="10" ({if isset($smarty.get.per) && $smarty.get.per=='10'})selected({/if})>10</option>
                                <option value="20" ({if isset($smarty.get.per) && $smarty.get.per=='20'})selected({/if})>20</option>
                                <option value="30" ({if isset($smarty.get.per) && $smarty.get.per=='30'})selected({/if})>30</option>
                                <option value="40" ({if isset($smarty.get.per) && $smarty.get.per=='40'})selected({/if})>40</option>
                                <option value="50" ({if isset($smarty.get.per) && $smarty.get.per=='50'})selected({/if})>50</option>
                            </select>
                            <button class="btn btn-secondary glyphicon-search" type="submit"></button>
                        </div>
                    </div>
                </form>
            ({/if})